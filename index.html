<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Climate Forecast Data Visualization</title>
    <!-- <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        rel="stylesheet"
    />
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
        rel="stylesheet"
    /> -->
    <link
        href="css/tailwindcss.css"
        rel="stylesheet"/>
    <style>
        body {
            font-family: "Roboto", sans-serif;
        }
        .zoom-container {
            overflow: auto;
            position: relative;
            width: 100%;
            height: 100%;
        }
        img.zoomable {
            transition: transform 0.2s;
            display: block;
            margin: auto;
            max-width: 100%;
            max-height: 100%;
        }
        /* Additional styling for the header section */
        .header-section {
            background-color: #fff;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #ddd;
        }
        .header-section img {
            max-height: 60px;
        }
        .header-section p {
            font-size: 16px;
            color: #333;
            margin-top: 10px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <!-- Header Section -->
    <div class="header-section">
        <img src="img/AGRIMET.png" alt="AGRHYMET Logo" />
        <h1 class="text-3xl font-bold text-gray-800 mt-4">West Africa SubX Data</h1>
        <p class="mt-2">
            Experimental high-resolution subseasonal-scale forecasts.
            <br />
            *Please note that new maps are typically available by 9 am GMT each Friday; however, if the latest forecasts from all models are not available, the maps will also be updated on Saturday and Sunday at 9 am GMT.
        </p>
        <p class="mt-4">
            The maps below show high-resolution (5km X 5km) climate forecasts over the next 30 days for The Permanent Inter-State Committee for Drought Control in the Sahel/Comité permanent Inter-Etats de Lutte contre la Sécheresse dans le Sahel (CILSS)-monitored countries in West Africa. These maps are generated by performing a quantile mapping-based bias-correction and downscaling of the forecasts from the North American Multimodel Ensemble (NMME) SubX project (Pegion et al., 2019), which provides climate forecasts based on multiple climate models. We are currently using climate forecasts from 5 of those models. The bias-correction and downscaling process involves two key steps: (1) downscaling of the SubX forecasts from a spatial resolution of about 100 X 100km to 5km X 5km and (2) bias-correction of downscaled forecasts at a daily scale using downscaled hindcast and observation climatologies of 7-day windows centered on the target day sampled from 1999-2016.
        </p>
        <p class="mt-4">
            The maps show a multimodel forecast of (1) Consecutive dry days (longest spell of days with precipitation below 1mm) and anomaly, (2) total rainfall over the next 30 days, and (3) number of rainy days in weeks 1 to 4 that receive rainfall more than 0, 5, 10, 25, and 50mm. Multimodel forecast, in this case, is simply the median of the ensemble forecast of the above variables. In the near future, we plan to provide similar maps using temperature forecasts.
        </p>
        <p class="mt-4">
            These are experimental forecasts generated by the support of NASA-SERVIR Applied Sciences Team grant 80NSSC20K0163.
        </p>
    </div>

    <div class="flex h-screen" id ="mainPanel">
        <!-- Left Panel (Control Panel) -->
        <div class="w-1/4 bg-white shadow-lg p-6">
            <h2 class="text-2xl font-bold mb-4">Control Panel</h2>
            <div class="mb-4">
                <label class="block text-lg font-semibold mb-2" for="region">Choose Region</label>
                <select
                    class="w-full p-2 border border-gray-300 rounded"
                    id="region"
                >
                    <option>West Africa</option>
                    <option disabled>CILLS member countries (Currently Unavailable)</option>
                </select>
            </div>
            <div class="mb-4">
                <label class="block text-lg font-semibold mb-2" for="variable">Choose Variable</label>
                <select
                    class="w-full p-2 border border-gray-300 rounded"
                    id="variable">
                    <option>-------------------</option>
                    <option>Consecutive Dry Days</option>
                    <option>Current Month Skill</option>
                    <option>Total Rainfall in mm</option>
                    <option>Number of Rainy Days</option>
                    <option>ETo forecasts-Experimental</option>
                    <option>Mean Tmax in deg C</option>
                    <option>Mean Tmin in deg C</option>
                </select>
            </div>
            <div class="overflow-y-auto h-96" id="links">
                <!-- Links will be populated dynamically -->
            </div>
        </div>
        <!-- Right Panel (Display Panel) -->
        <div class="w-3/4 bg-gray-50 p-6 flex flex-col items-center justify-center">
            <div class="w-full h-full flex flex-col items-center justify-center">
                <div class="w-full h-3/4 bg-white shadow-lg rounded-lg overflow-hidden zoom-container">
                    <img
                        alt="Visualization"
                        id="visualization"
                        class="zoomable"
                        src=""
                    />
                </div>
                <div class="mt-4 flex items-center space-x-4" >
                    <button id="zoomIn" class="p-2 bg-blue-500 text-white rounded shadow hover:bg-blue-600">
                        Zoom In
                    </button>
                    <button id="zoomOut" class="p-2 bg-blue-500 text-white rounded shadow hover:bg-blue-600">
                        Zoom Out
                    </button>
                </div>
                <p class="mt-4 text-lg font-semibold" id="details">
                    Region: West Africa | Variable: None | Forecast Period: None
                </p>
            </div>
        </div>
    </div>
    <script src="js/app.js"></script>
</body>
</html>
